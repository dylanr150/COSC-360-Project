<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="../CSS/reset.css">
    <link rel="stylesheet" href="../CSS/general.css">
    <link rel="stylesheet" href="../CSS/register.css">
    <script src="../JAVASCRIPT/regCheck.js"></script>
    <script>
      function check(e){
        var p = document.getElementById("password");
        var pass2 = document.getElementById("verify_password");
        var email = document.getElementById("email")
        
        var password = p.value;
        var passCheck = pass2.value;
        var emailCheck = email.value;
        var emailChecker = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
     
        if(password !== passCheck){ 
          makeRed(p);
          makeRed(pass2);
          if(!document.getElementById("errorMsg")){
            var p = document.createElement("p");
            p.innerHTML = '<p id = "errorMsg"></p>';
            p.style.color = "red";
    
            var error = document.createTextNode("Passwords do not match");
            p.appendChild(error);
    
            var parent = document.getElementById("register");
            parent.appendChild(p);
          }
          return e.preventDefault();
        }
        if(!emailCheck.toLowerCase().match(emailChecker)){
          makeRed(email);
          if(!document.getElementById("errorMsg")){
            var p = document.createElement("p");
            p.innerHTML = '<p id = "errorMsg"></p>';
            p.style.color = "red";
    
            var error = document.createTextNode("Invalid Email.");
            p.appendChild(error);
    
            var parent = document.getElementById("register");
            parent.appendChild(p);
          }
          return e.preventDefault();
        }
      }
    </script>
    <title>Register</title>
  </head>
  <body>
    <div class="header">
      <nav>
        <a href="login.html"><button>Login</button></a>
        <a href="register.html"><button>Register</button></a>
        <a href="profile.html"><button>Profile</button></a>
        <a href="home.php"><button>Home</button></a>
        <a href="post.html"><button>Post</button></a>
      </nav>
    </div class="header">
    <main>
      <div class="register-container">
        <h2 class="register-title">Register</h2>
        <br>
        <form id="register" action="../PHP/register.php" method="post">
          <label for="username">Username:</label>
          <input type="text" id="username" name="username" class="required" maxlength="20">
          <br>
          <label for="email">Email:</label>
          <input type="text" id="email" name="email" class="required" maxlength="40">
          <br>  
          <label for="firstname">First Name:</label>
          <input type="text" id="firstname" name="firstname" class="required" maxlength="20">
          <br>
          <label for="lastname">Last Name:</label>
          <input type="text" id="lastname" name="lastname" class="required" maxlength="20">
          <br>
          <label for="password">Password:</label>
          <input type="password" id="password" name="password" class="required" maxlength="32">
          <br>
          <label for="verify_password">Verify Password:</label>
          <input type="password" id="verify_password" name="verify_password" class="required" maxlength="32">
          <br>
          <input type="submit" value="Register">
          <button onclick="location.href='login.html'" type="button">Cancel</button>
        </form>
      </div>
    </main>
  </body>
</html>
